!function(o){o.fn.modal=function(i){function e(){o("."+i.videoClass).attr("src",i.video),c.hide(),d.css({top:o(window).height()/2-d.outerHeight()/2+o(window).scrollTop(),left:o(window).width()/2-d.outerWidth()/2+o(window).scrollLeft()}),l===!1?(a.css({opacity:i.opacity,backgroundColor:"#"+i.background}),a[i.animationEffect](i.animationSpeed),d.delay(i.animationSpeed)[i.animationEffect](i.animationSpeed)):d.show(),l=!0}function n(){c.stop(!0).animate({top:o(window).height()/2-c.outerHeight()/2+o(window).scrollTop(),left:o(window).width()/2-c.outerWidth()/2+o(window).scrollLeft()},i.moveModalSpeed)}function t(){return o("."+i.videoClass).attr("src",""),l=!1,c.fadeOut(100,function(){"slideDown"===i.animationEffect?a.slideUp():"fadeIn"===i.animationEffect&&a.fadeOut()}),!1}i=o.extend({trigger:".modalLink",olay:"div.overlay",modals:"div.modal",animationEffect:"fadeIn",animationSpeed:400,moveModalSpeed:"slow",background:"000",opacity:.8,openOnLoad:!1,docClose:!0,closeByEscape:!0,moveOnScroll:!0,resizeWindow:!0,video:"",videoClass:"video",close:".closeBtn"},i);var d,a=o(i.olay),c=o(i.modals),l=!1;return"fadein"===i.animationEffect&&(i.animationEffect="fadeIn"),"slidedown"===i.animationEffect&&(i.animationEffect="slideDown"),a.css({opacity:0}),i.openOnLoad?e():(a.hide(),c.hide()),o(i.trigger).bind("click",function(i){i.preventDefault(),o(".modalLink").length>1?(getModal=o(this).attr("href"),d=o(getModal)):d=o(".modal"),e()}),i.docClose&&a.bind("click",t),o(i.close).bind("click",t),i.closeByEscape&&o(window).bind("keyup",function(o){27===o.which&&t()}),i.resizeWindow?(o(window).bind("resize",n),i.moveOnScroll?(o(window).bind("scroll",n),void 0):!1):!1}}(jQuery);