(function(){!function(t){"use strict";var e,n,s;return s=0,n={delay:0,duration:0,easing:"ease-in-out",startOn:0,reverse:!1,interactEvent:"click",useTouch:!0,onSetup:null,onReady:null,css:{active:"is-active",current:"tab-current",navCurrent:"tab-nav-current",navId:"tabnav"},selectors:{tab:".js-tab",nav:".js-nav",navItem:".js-nav-item"},zIndex:{bottom:1,top:2}},e=function(t,e){return this.container=t,this.options=e,this._currentTab=null,this._timer=null,this._instanceId=++s,this._opacityTransition="opacity "+parseInt(e.duration,10)/1e3+"s "+e.easing,"function"==typeof e.onSetup&&e.onSetup.call(this),this._getDOMElements(),this.nav.length>0&&(this._ariafy(),this._setCurrentNav(),this._attachNavEvents()),this._showInitialTab(e.startOn),this._attachKeyEvents(),parseInt(e.delay,10)>0&&(this.start(),this._attachHoverEvents()),t.addClass(e.css.active),t[0].style.position="relative","function"==typeof e.onReady&&e.onReady.call(this)},e.prototype={constructor:e,showTab:function(t){var e,n,s,i;return t=this._getTab(t),e=this._currentTab,i=this._transitionProps,0===t.length||e.is(t)?this:(this.tab.css(i.css,"").css("opacity",""),this._setTabVisibilty(e,this.tab.not(e)),t.show().css({position:"absolute"}),s=this,n=parseInt(this.options.duration,10),n>0?e.one(i.js,function(){return s._setTabVisibilty(t,e)}):s._setTabVisibilty(t,e),e.css(i.css,this._opacityTransition).css("opacity",0),this.triggerEvent("herotabs.show",t),this._currentTab=t,this)},nextTab:function(){var t,e;return t=this.tab.index(this._currentTab),e=this.tab.eq(t+1),e=e.length>0?e:this.tab.eq(0),this.showTab(e),this.triggerEvent("herotabs.next",e),this},prevTab:function(){var t,e;return t=this.tab.index(this._currentTab),e=this.tab.eq(0===t?-1:t-1),this.showTab(e),this.triggerEvent("herotabs.prev",e),this},start:function(){var t,e,n;return t=this.options,t.delay?(n=this,e=t.reverse,this._timer=setInterval(function(){return n._navItemHasFocus()?void 0:e?n.prevTab():n.nextTab()},t.delay),this.triggerEvent("herotabs.start",this._currentTab),this):this},stop:function(){return clearInterval(this._timer),this.triggerEvent("herotabs.stop",this._currentTab),this},triggerEvent:function(t,e){var n;return e=this._getTab(e),n=this.tab.index(e),this.container.trigger(t,{currentTab:e,currentTabIndex:n,currentNavItem:this.navItem.eq(n)})},_getDOMElements:function(){var t,e,n;e=this.options.selectors,n=[];for(t in e)n.push(this[t]=this.container.find(e[t]));return n},_getTab:function(t){return"number"!=typeof t?t:this.tab.eq(t)},_showInitialTab:function(t){var e,n;return n=location.hash&&this.tab.filter(location.hash),e=0===n.length?this.tab.eq(t):n,this.tab.css("top",0),this._setTabVisibilty(e,this.tab.not(e)),this.triggerEvent("herotabs.show",e),this._currentTab=e},_setTabVisibilty:function(t,e){var n,s,i;return s=this.options,n=s.css,i=s.zIndex,t.addClass(n.current).css({"z-index":i.top,position:"relative"}).attr("aria-hidden",!1).find("a").andSelf().attr("tabindex","0"),e.removeClass(n.current).css({"z-index":i.bottom}).hide().attr("aria-hidden",!0).find("a").andSelf().attr("tabindex","-1")},_ariafy:function(){var t;return t=this.options.css.navId+this._instanceId+"-",this.nav[0].setAttribute("role","tablist"),this.navItem.attr("role","presentation").find("a").each(function(e){return this.id=t+(e+1),this.setAttribute("role","tab")}),this.tab.each(function(e){return this.setAttribute("role","tabpanel"),this.setAttribute("aria-labelledby",t+(e+1))})},_transitionProps:function(){var t,e,n,s,i,r,a,o,h;if(i="transition",t=document.createElement("div"),i in t.style)return{css:i,js:"transitionend"};for(o={transition:"transitionend",webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},s=["Moz","webkit","O"],r=i.charAt(0).toUpperCase()+i.substr(1),a={},e=0,n=s.length;n>e;)h=s[e]+r,h in t.style&&(a.js=o[h],a.css="-"+s[e].toLowerCase()+"-"+i),++e;return a}(),_attachHoverEvents:function(){var t;return t=this,this.container.on("mouseenter",function(){return t.stop(),t.triggerEvent("herotabs.mouseenter",t._currentTab)}),this.container.on("mouseleave",function(){return t.start(),t.triggerEvent("herotabs.mouseleave",t._currentTab)})},_attachKeyEvents:function(){var t;return t=this,this.nav.on("keydown","a",function(e){switch(e.keyCode){case 37:case 38:return t.prevTab();case 39:case 40:return t.nextTab()}})},_isTouchEnabled:function(){return"ontouchstart"in document.documentElement&&this.options.useTouch},_getEventType:function(){var t;return t={hover:"mouseenter",touch:"touchstart",click:"click"},this._isTouchEnabled()?t.touch:t[this.options.interactEvent]},_attachNavEvents:function(){var e,n,s,i;return n=this.nav,e=this._getEventType(),s=this.options,i=this,n.on(e,"a",function(e){return i.showTab(t(this).parents(s.selectors.navItem).index()),i._checkUrlIsAnchor(this.href)?(e.preventDefault(),e.stopPropagation()):void 0})},_isAnchorRegex:/#[A-Za-z0-9-_]+$/,_checkUrlIsAnchor:function(t){return this._isAnchorRegex.test(t)},_navItemHasFocus:function(){return t(document.activeElement).closest(this.container).is(this.container)},_setCurrentNav:function(){var t,e,n,s;return s=this,n=this.options,t=n.css.navCurrent,e=this.navItem,s.container.on("herotabs.show",function(n,i){var r;return e.removeClass(t).find("a").each(function(){return this.setAttribute("aria-selected","false"),this.setAttribute("tabindex","-1")}),r=e.eq(i.currentTabIndex).addClass(t).find("a"),r[0].setAttribute("aria-selected","true"),r[0].setAttribute("tabindex","0"),s._navItemHasFocus()?r.focus():void 0})}},void 0===e.prototype._transitionProps.css&&(e.prototype.showTab=function(t){var e,n,s;return t=this._getTab(t),e=this._currentTab,n=this.options,0===t.length||e.is(t)?this:(this.tab.stop(!0,!0),t.show().css({position:"absolute",opacity:1}),s=this,e.animate({opacity:0},n.duration,function(){return s._setTabVisibilty(t,e)}),this.triggerEvent("herotabs.show",t),this._currentTab=t,this)}),t.fn.herotabs=function(s){return s=t.extend(!0,{},n,s),this.each(function(){var n;return n=t(this),n.data("herotabs",new e(n,s))})},t.fn.herotabs.defaults=n,t.fn.herotabs.Herotabs=e}(jQuery)}).call(this);